(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){},19:function(e,t,a){e.exports=a(30)},24:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),c=a.n(l),o=(a(24),a(1)),i=(a(12),a(2)),s=a(4);var u=function(){var e=Object(n.useContext)(x),t=e.state,a=e.dispatch,l=Object(i.f)(),c={backgroundColor:"#12BDA6"},o={color:"#12BDA6",textTransform:"uppercase",padding:"20px",border:"none",outline:"none",backgroundColor:"#08000E",fontWeight:"bold"};return r.a.createElement("nav",{className:"nav-wrapper"},r.a.createElement("div",{className:"container"},r.a.createElement(s.c,{to:t?"/":"/signin",className:"brand-logo left"},"SKYROCKET"),r.a.createElement("ul",{id:"nav-mobile",className:"right"},t?[r.a.createElement("li",{key:1},r.a.createElement(s.c,{to:"/",exact:!0,activeStyle:c},"Catalog")),r.a.createElement("li",{key:2},r.a.createElement(s.c,{to:"/profile",exact:!0,activeStyle:c},"Profile")),r.a.createElement("li",{key:3},r.a.createElement(s.c,{to:"/postProduct",exact:!0,activeStyle:c},"Sell")),r.a.createElement("li",{key:4,style:{fontFamily:"serif"}},r.a.createElement(s.c,{style:{margin:"6px"},to:"/cart"},r.a.createElement("i",{className:"material-icons"},"shopping_cart"))),r.a.createElement("button",{style:o,name:"action",onClick:function(){localStorage.clear(),a({type:"CLEAR"}),l.push("/signin")}},"Logout")]:[r.a.createElement("li",{key:5},r.a.createElement(s.c,{to:"/signup",className:"right",activeStyle:c},"Signup")),r.a.createElement("li",{key:6},r.a.createElement(s.c,{to:"/signin",activeStyle:c},"Signin"))])))};var m=function(){var e=Object(n.useContext)(x),t=(e.state,e.dispatch,Object(n.useState)([])),a=Object(o.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(""),s=Object(o.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(""),p=Object(o.a)(d,2),h=p[0],g=p[1],f=Object(n.useState)(""),E=Object(o.a)(f,2),y=E[0],b=E[1];Object(n.useEffect)(function(){fetch("/allProducts",{method:"get"}).then(function(e){return e.json()}).then(function(e){c(e)})},[]);var v={borderRadius:"2px",width:"300px",maxHeight:"inherit",textAlign:"center",margin:"15px",border:"490px"},j=(u?l.filter(function(e){return-1!==e.name.toLowerCase().indexOf(u.toLowerCase())}):l).filter(function(e){return parseInt(e.price)>=(h?parseInt(h):0)&&parseInt(e.price)<=(y?parseInt(y):99999999)});return r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",maxWidth:"400px",margin:"5px auto",textAlign:"center"}},r.a.createElement("input",{type:"search",placeholder:"Search For products",value:u,onChange:function(e){return m(e.target.value)}}),r.a.createElement("i",{className:"small material-icons",style:{marginTop:"10px",color:"white"}},"search")),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("input",{style:{maxWidth:"200px",margin:"5px"},type:"text",placeholder:"Min Price (Rupees)",value:h,onChange:function(e){return g(e.target.value)}}),r.a.createElement("input",{style:{maxWidth:"200px",margin:"5px"},type:"text",placeholder:"Max Price (Rupees)",value:y,onChange:function(e){return b(e.target.value)}})),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap"}},j.map(function(e){return e.inCart||e.isPurchased||e.postedBy.name==JSON.parse(localStorage.getItem("user")).name?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{className:"card",style:v,key:e._id},r.a.createElement("div",{className:"card-image"},r.a.createElement("img",{src:e.photo})),r.a.createElement("h5",null,r.a.createElement("b",null,e.name)),r.a.createElement("div",{className:"card-content",style:{paddingTop:"0px",textAlign:"left"}},r.a.createElement("h6",null,r.a.createElement("br",null),e.description),r.a.createElement("div",{onClick:function(){return t=e._id,void fetch("/addtocart",{headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),"Content-Type":"application/json"},method:"put",body:JSON.stringify({productId:t})}).then(function(e){return e.json()}).then(function(e){alert("Added successfully to Cart")}).catch(function(e){return console.log(e)});var t},className:"btn-floating halfway-fab waves-effect waves-light blue "},r.a.createElement("i",{className:"material-icons"},"add_shopping_cart"))),r.a.createElement("div",{className:"card-content",style:{textAlign:"right"}},r.a.createElement("h6",null," Seller: ",r.a.createElement("b",null,"    ",e.postedBy.name," ")),r.a.createElement("h6",null,"Price:   ",r.a.createElement("b",null," Rs. "+e.price))))})),r.a.createElement("hr",{style:{height:"2px",borderWidth:"0px",backgroundColor:"#777"}}))};var d=function(){var e=Object(n.useContext)(x),t=(e.state,e.dispatch),a=Object(i.f)(),l=Object(n.useState)(""),c=Object(o.a)(l,2),u=c[0],m=c[1],d=Object(n.useState)(""),p=Object(o.a)(d,2),h=p[0],g=p[1],f=Object(n.useState)("password"),E=Object(o.a)(f,2),y=E[0],b=E[1];return r.a.createElement("div",{style:{display:"flex",margin:"10px auto",justifyContent:"center"}},r.a.createElement("div",{className:"card",style:{textAlign:"center",maxWidth:"800px",borderRadius:"10px",backgroundColor:"#222",color:"white"}},r.a.createElement("div",{className:"card-image"},r.a.createElement("img",{src:"https://q3p9g6n2.rocketcdn.me/wp-content/ml-loads/2018/07/rocket-rockets-blast-off-shutterstock_566814361-800x450.jpg",style:{borderRadius:"10px",height:"600px",width:"100%"}}),r.a.createElement("span",{className:"card-title"},"Welcome To SkyRocket\u2014 an exclusive reselling and buying portal!"))),r.a.createElement("div",{className:"card",style:{textAlign:"center",maxWidth:"400px",marginLeft:"20px",borderRadius:"10px",padding:"30px",backgroundColor:"#080004",color:"white"}},r.a.createElement("h2",null,"SkyRocket"),r.a.createElement("h4",null,"Sign In"),r.a.createElement("input",{type:"text",placeholder:"Enter your Email",value:u,onChange:function(e){return m(e.target.value)}}),r.a.createElement("input",{type:y,id:"passwrd",placeholder:"Enter your Password",value:h,onChange:function(e){return g(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{style:{color:"teal"},onClick:function(){b("password"===y?"text":"password")}},"Click here to show/hide Password"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){fetch("/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:u,password:h})}).then(function(e){return e.json()}).then(function(e){e.error?console.log(e.error):(localStorage.setItem("jwt",e.token),localStorage.setItem("user",JSON.stringify(e.user)),t({type:"USER",payload:e.user}),console.log(e),a.push("/"))}).catch(function(e){console.log(e)})},className:"waves-effect waves-light btn"},"Sign In"),r.a.createElement("br",null),r.a.createElement("br",null),"Don't have an account? ",r.a.createElement("br",null),r.a.createElement(s.b,{to:"/signup"},"Sign Up here!")))};var p=function(){var e=Object(i.f)(),t=Object(n.useState)(""),a=Object(o.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)(""),m=Object(o.a)(u,2),d=m[0],p=m[1],h=Object(n.useState)(""),g=Object(o.a)(h,2),f=g[0],E=g[1];return r.a.createElement("div",{style:{display:"flex",margin:"10px auto",justifyContent:"center"}},r.a.createElement("div",{className:"card",style:{textAlign:"center",maxWidth:"800px",borderRadius:"10px",backgroundColor:"#222",color:"white"}},r.a.createElement("div",{className:"card-image"},r.a.createElement("img",{src:"https://q3p9g6n2.rocketcdn.me/wp-content/ml-loads/2018/07/rocket-rockets-blast-off-shutterstock_566814361-800x450.jpg",style:{borderRadius:"10px",height:"600px"}}),r.a.createElement("span",{className:"card-title"},"Welcome To SkyRocket!"))),r.a.createElement("div",{className:"card",style:{textAlign:"center",maxWidth:"400px",marginLeft:"20px",borderRadius:"10px",padding:"30px",backgroundColor:"#080004",color:"white"}},r.a.createElement("h2",null,"SkyRocket"),r.a.createElement("h4",null,"Sign up"),r.a.createElement("input",{type:"text",placeholder:"Enter your Name",value:l,onChange:function(e){return c(e.target.value)}}),r.a.createElement("input",{type:"text",placeholder:"Enter your Email",value:d,onChange:function(e){return p(e.target.value)}}),r.a.createElement("input",{type:"text",placeholder:"Enter your Password",value:f,onChange:function(e){return E(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{className:"waves-effect waves-light btn",onClick:function(){fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l,email:d,password:f})}).then(function(e){return e.json()}).then(function(t){t.error?console.log(t.error):(console.log("signed up successfully"),e.push("/signin"))}).catch(function(e){console.log(e)})}},"Register"),r.a.createElement("br",null),r.a.createElement("br",null),"Already have an account?",r.a.createElement("br",null),r.a.createElement(s.b,{to:"/signin"}," Click here to Sign In")))};var h=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),i=Object(o.a)(c,2),s=i[0],u=i[1],m=Object(n.useState)([]),d=Object(o.a)(m,2),p=d[0],h=d[1],g=Object(n.useContext)(x),f=g.state,E=(g.dispatch,function(){fetch("/myProducts",{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then(function(e){return e.json()}).then(function(e){return l(e.prods)}).catch(function(e){return console.log("error"+e)})}),y={margin:"8px",borderRadius:"20px",maxWidth:"200px",maxHeight:"inherit",textAlign:"center"};Object(n.useEffect)(function(){E(),fetch("/getPurchased",{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then(function(e){return e.json()}).then(function(e){return h(e)}).catch(function(e){return console.log("error"+e)})},[]);var b=a.filter(function(e){return-1!==e.name.toLowerCase().indexOf(s.toLowerCase())});return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h1",{style:{color:"white"}},"Welcome, ",f?f.name:"loading","!"),r.a.createElement("hr",{style:{height:"2px",borderWidth:"0px",backgroundColor:"#777"}}),r.a.createElement("h5",{style:{color:"white"}},"You are selling: "),r.a.createElement("div",{style:{display:"flex",maxWidth:"400px",margin:"5px auto",textAlign:"center"}},r.a.createElement("input",{type:"search",placeholder:"Search for your products",value:s,onChange:function(e){return u(e.target.value)}}),r.a.createElement("i",{className:"small material-icons",style:{marginTop:"10px",color:"white"}},"search")),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap"}},b.map(function(e){return!e.isPurchased&&r.a.createElement("div",{className:"card",style:y,key:e._id},r.a.createElement("div",{className:"card-image"},r.a.createElement("img",{src:e.photo})),r.a.createElement("h5",null,e.name),r.a.createElement("div",{className:"card-content",style:{paddingTop:"0px"}},r.a.createElement("div",{onClick:function(){return t=e._id,void fetch("/deleteProd",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({id:t})}).then(function(e){return e.json()}).then(function(e){console.log(e),E()}).catch(function(e){return console.log(e)});var t},className:"btn-floating halfway-fab waves-effect waves-light #e53935 red darken-1 "},r.a.createElement("i",{className:"material-icons"},"delete")),r.a.createElement("h6",null,e.description),r.a.createElement("h6",null,r.a.createElement("b",null,"Rs. "+e.price))))})),r.a.createElement("br",null),r.a.createElement("hr",{style:{height:"2px",borderWidth:"0px",backgroundColor:"#777"}}),r.a.createElement("h5",{style:{color:"white"}},"Already purchased by you: "),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap"}},p.map(function(e){return r.a.createElement("div",{className:"card",style:y,key:e._id},r.a.createElement("div",{className:"card-image"},r.a.createElement("img",{src:e.photo})),r.a.createElement("h5",null,e.name),r.a.createElement("div",{className:"card-content",style:{paddingTop:"0px"}},r.a.createElement("h6",null,e.description),r.a.createElement("h6",null,r.a.createElement("b",null,"Rs. "+e.price))))})),r.a.createElement("hr",{style:{height:"2px",borderWidth:"0px",backgroundColor:"#08000E"}}))},g=a(10);var f=function(){var e,t=Object(i.f)(),a=Object(n.useState)(""),l=Object(o.a)(a,2),c=l[0],s=l[1],u=Object(n.useState)(""),m=Object(o.a)(u,2),d=m[0],p=m[1],h=Object(n.useState)(""),f=Object(o.a)(h,2),E=f[0],y=f[1],b=Object(n.useState)(""),x=Object(o.a)(b,2),v=x[0],j=x[1],w=(e={textAlign:"center",margin:"40px auto",maxWidth:"600px",borderRadius:"10px",padding:"30px"},Object(g.a)(e,"textAlign","left"),Object(g.a)(e,"backgroundColor","#080004"),Object(g.a)(e,"color","white"),e);return r.a.createElement("div",null,r.a.createElement("div",{className:"card",style:w},r.a.createElement("h2",{style:{textAlign:"center",color:"#12BDA6"}},"Sell your Product!"),r.a.createElement("h5",null,"Enter product details below"),r.a.createElement("input",{type:"text",placeholder:" Name",value:c,onChange:function(e){s(e.target.value)}}),r.a.createElement("input",{type:"text",placeholder:"Detailed Description",value:d,onChange:function(e){p(e.target.value)}}),r.a.createElement("input",{type:"text",placeholder:"Price in Rupees",value:E,onChange:function(e){y(e.target.value)}}),r.a.createElement("input",{type:"text",placeholder:"Valid Image URL",value:v,onChange:function(e){j(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){fetch("/postProduct",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({name:c,description:d,price:E,photo:v})}).then(function(e){return e.json()}).then(function(e){console.log(e),t.push("/")}).catch(function(e){return console.log(e)})},className:"waves-effect waves-light btn"},"Sell!"),r.a.createElement("br",null),r.a.createElement("br",null)))};var E=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useContext)(x),i=(c.state,c.dispatch,function(){fetch("/getCart",{headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),"Content-Type":"application/json"},method:"get"}).then(function(e){return e.json()}).then(function(e){return l(e)})}),s={margin:"8px",borderRadius:"20px",maxWidth:"200px",maxHeight:"inherit",textAlign:"center"};Object(n.useEffect)(function(){i()},[]);var u=function(){var e=0;return a.map(function(t){return e+=parseInt(t.price)}),e};return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h2",{style:{color:"white"}},"Cart:"),r.a.createElement("h4",{style:{color:"white"}},"Your Cart Total: Rs. ",u()),r.a.createElement("hr",{style:{height:"2px",borderWidth:"0px",backgroundColor:"#777"}}),r.a.createElement("button",{style:{width:"150px",position:"absolute",right:"220px"},onClick:function(){fetch("http://localhost:5000/emptyCart",{headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),"Content-Type":"application/json"},method:"put"}).then(function(e){return e.json()}).then(function(e){console.log("emptied cart"),i()}).catch(function(e){return console.log(e)})},className:"waves-effect waves-red btn"},"Empty Cart"),r.a.createElement("button",{style:{width:"150px",marginTop:"45px",position:"absolute",right:"220px"},onClick:function(){fetch("http://localhost:5000/purchaseAll",{headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),"Content-Type":"application/json"},method:"put"}).then(function(e){return e.json()}).then(function(e){l([]),alert("Purchased All Items"),console.log(e)}).catch(function(e){return console.log(e)})},className:"waves-effect waves-light btn"},"Purchase All"),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap"}},a.map(function(e){return e.isPurchased?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{className:"card",style:s,key:e._id},r.a.createElement("div",{className:"card-image"},r.a.createElement("img",{src:e.photo})),r.a.createElement("h5",null,e.name),r.a.createElement("div",{className:"card-content",style:{paddingTop:"0px"}},r.a.createElement("div",{onClick:function(){return t=e._id,void fetch("/removefromcart",{headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),"Content-Type":"application/json"},method:"put",body:JSON.stringify({productId:t})}).then(function(e){return e.json()}).then(function(e){console.log("removed successfully from cart"),i()}).catch(function(e){return console.log(e)});var t},className:"btn-floating halfway-fab waves-effect waves-light #e53935 red darken-1 "},r.a.createElement("i",{className:"material-icons"},"delete")),r.a.createElement("h6",null,e.description),r.a.createElement("h6",null,"Rs. "+e.price)))})),r.a.createElement("div",null,r.a.createElement("h4",{style:{color:"white"}},"Grand Total is Rs. ",u())),r.a.createElement("br",null),r.a.createElement("hr",{style:{height:"2px",borderWidth:"0px",backgroundColor:"#08000E"}}))},y=null,b=function(e,t){return"USER"==t.type?t.payload:"CLEAR"==t.type?null:e},x=Object(n.createContext)();function v(){var e=Object(i.f)(),t=Object(n.useContext)(x),a=(t.state,t.dispatch);return Object(n.useEffect)(function(){var t=JSON.parse(localStorage.getItem("user"));t?a({type:"USER",payload:t}):e.push("/signin")},[]),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:m}),r.a.createElement(i.a,{path:"/signin",component:d}),r.a.createElement(i.a,{path:"/signup",component:p}),r.a.createElement(i.a,{path:"/cart",component:E}),r.a.createElement(i.a,{path:"/profile",component:h}),r.a.createElement(i.a,{path:"/postProduct",component:f}))}var j=function(){var e=Object(n.useReducer)(b,y),t=Object(o.a)(e,2),a=t[0],l=t[1];return r.a.createElement(x.Provider,{value:{state:a,dispatch:l}},r.a.createElement(s.a,null,r.a.createElement(u,null),r.a.createElement(v,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){console.error(e.message)})}},[[19,1,2]]]);
//# sourceMappingURL=main.250bda8a.chunk.js.map